# Issue #11: 地図表示機能の実装

### 背景 / 目的
配送中のユーザーが自分の現在地と移動軌跡を視覚的に確認できるよう、react-native-mapsを導入して地図表示機能を実装する。

- **依存**: #9
- **ラベル**: `frontend`, `feature`

---

### スコープ / 作業項目

#### 1. react-native-mapsの導入
- `react-native-maps@1.18+` をインストール
- Google Maps APIキーの設定（Android・iOS）
- `app.json` にAPIキーを追加

#### 2. 地図コンポーネントの作成
- `src/components/features/DeliveryMap.tsx` を作成
- MapViewコンポーネントを配置
- 初期位置を現在地に設定

#### 3. 現在地マーカーの表示
- 現在地に青いマーカーを表示
- 位置情報が更新されるたびにマーカー位置を更新

#### 4. 移動軌跡の描画
- 配送開始後の座標をPolylineで繋いで青いラインを描画
- 移動するたびに軌跡を追加

#### 5. スタート地点マーカー
- 配送開始地点に緑のマーカーを表示

#### 6. 地図の自動追従
- 現在地を中心に地図を自動で移動
- ユーザーが手動で地図を操作した場合は自動追従を一時停止

---

### ゴール / 完了条件（Acceptance Criteria）

- [ ] `react-native-maps@1.18+` がインストール済み
- [ ] `app/(tabs)/delivery.tsx` で地図を全画面表示できる
- [ ] 現在地に青いマーカーを表示できる
- [ ] 配送中は移動軌跡を青いラインで地図上に描画できる
- [ ] スタート地点に緑のマーカーを表示できる

---

### テスト観点

#### 手動テスト
- 配送画面で地図が正しく表示されることを確認
- 現在地マーカーが表示され、移動すると位置が更新されることを確認
- 配送開始後、移動軌跡が青いラインで描画されることを確認
- スタート地点に緑のマーカーが表示されることを確認
- 地図のズーム・パン操作が正常に動作することを確認

#### 検証方法
1. 配送画面を開く
2. GPS権限を許可し、地図が表示されることを確認
3. 現在地に青いマーカーが表示されることを確認
4. 配送開始ボタンをタップ
5. 実際に移動し、青いラインが描画されることを確認
6. スタート地点に緑のマーカーが表示されることを確認

---

### 参考資料

- [react-native-maps Documentation](https://github.com/react-native-maps/react-native-maps)
- [Google Maps API Documentation](https://developers.google.com/maps)
- `docs/05_sitemap_delimon.md` - サイトマップ（配送画面）

---

### 要確認事項

- Google Maps APIキーの取得（誰が取得するか、費用負担）
- 地図の表示スタイル（標準地図、衛星写真など）
- 移動軌跡の色・太さ
- 地図の初期ズームレベル
