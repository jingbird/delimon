# Issue #19: 進化アニメーション画面の実装

### 背景 / 目的
進化時の演出画面を実装し、進化前→光エフェクト→進化後の流れを表示してユーザーに達成感を提供する。

- **依存**: #18
- **ラベル**: `frontend`, `feature`

---

### スコープ / 作業項目

#### 1. 進化アニメーション画面のUI作成
- `app/evolution.tsx` をフルスクリーンモーダル形式で作成
- 背景は暗めの色（ダークブルー、ダークパープルなど）

#### 2. 3段階のアニメーション実装
- **Phase 1（1秒）**: 進化前キャラクター画像を表示
- **Phase 2（2秒）**: シルエット化＋光エフェクト（キラキラ）
- **Phase 3（3秒）**: 進化後キャラクター画像を表示＋「おめでとう！」メッセージ

#### 3. 光エフェクトの実装
- React Native ReanimatedまたはLottieを使用してキラキラエフェクト
- シルエット化はImageコンポーネントのtintColorを使用

#### 4. BGMの追加（Phase 2以降）
- 進化時のBGMを再生（expo-av使用）
- 音量調整・ミュート機能

#### 5. ナビゲーション
- 「OK」ボタンでホーム画面へ遷移
- スキップ不可（必ず最後まで見る仕様）

#### 6. 進化情報の受け渡し
- 配送結果画面から進化前・進化後のキャラクター情報を受け取る
- ルートパラメーターで情報を渡す

---

### ゴール / 完了条件（Acceptance Criteria）

- [ ] `app/evolution.tsx` でフルスクリーンの進化アニメーション画面を作成完了
- [ ] Phase 1（1秒）: 進化前キャラクター表示
- [ ] Phase 2（2秒）: シルエット化＋光エフェクト（キラキラ）
- [ ] Phase 3（3秒）: 進化後キャラクター表示＋「おめでとう！」メッセージ
- [ ] 「OK」ボタンでホーム画面へ遷移できる（スキップ不可）

---

### テスト観点

#### 手動テスト
- 配送結果画面で「進化を見る」ボタンをタップし、進化アニメーション画面が表示されることを確認
- Phase 1で進化前キャラクターが表示されることを確認
- Phase 2でシルエット化＋キラキラエフェクトが表示されることを確認
- Phase 3で進化後キャラクター＋「おめでとう！」メッセージが表示されることを確認
- 「OK」ボタンでホーム画面へ遷移することを確認
- アニメーション中にスキップできないことを確認

#### 検証方法
1. レベル19→20の配送を実施
2. 配送結果画面で「進化を見る」ボタンをタップ
3. 進化アニメーション画面が表示されることを確認
4. 3段階のアニメーションがスムーズに表示されることを確認
5. 「OK」ボタンをタップし、ホーム画面へ遷移することを確認

---

### 参考資料

- `docs/05_sitemap_delimon.md` - サイトマップ（進化アニメーション画面）
- [React Native Reanimated Documentation](https://docs.swmansion.com/react-native-reanimated/)
- [Lottie for React Native](https://github.com/lottie-react-native/lottie-react-native)

---

### 要確認事項

- 進化アニメーションのデザイン（モックアップ、Lottieファイル）
- BGMの追加タイミング（Phase 2以降）
- アニメーションの長さ（合計6秒）は適切か
- スキップ機能を追加するか（Phase 1では不可）
