# Issue #21: 履歴画面の実装（前半）

### 背景 / 目的
配送履歴の一覧表示と期間別フィルタリングを実装し、ユーザーが自分の配送記録を振り返れるようにする。

- **依存**: #10
- **ラベル**: `frontend`, `feature`

---

### スコープ / 作業項目

#### 1. 履歴画面のUI作成
- `app/(tabs)/history.tsx` を作成
- 上部に期間選択タブ（今週・今月・全期間）を配置

#### 2. 期間別フィルタリング
- 期間選択タブで「今週」「今月」「全期間」を切り替え
- Supabaseから期間に応じた配送履歴を取得
- 「今週」: 月曜日〜日曜日（ISO週）
- 「今月」: 月初〜月末
- 「全期間」: すべての配送履歴

#### 3. 配送履歴リストの表示
- FlatListで配送履歴を一覧表示
- 各アイテムに以下を表示:
  - 日時（例: 2025/11/06 14:30）
  - 走行距離（例: 12.5 km）
  - 所要時間（例: 45分）
  - 獲得経験値（例: +1,250 exp）

#### 4. 進化アイコンの表示
- 進化した配送には進化アイコン（⭐️など）を表示
- アイコンタップで進化詳細を表示（Phase 2以降）

#### 5. Pull-to-refresh
- リストを下に引っ張ることで最新データを再取得

#### 6. 空状態の表示
- 配送履歴がない場合、「まだ配送履歴がありません」メッセージを表示

---

### ゴール / 完了条件（Acceptance Criteria）

- [ ] `app/(tabs)/history.tsx` で履歴画面のUI作成完了
- [ ] 期間選択タブ（今週・今月・全期間）を実装完了
- [ ] 配送履歴をリスト表示できる（日時・距離・所要時間・獲得経験値）
- [ ] 進化した配送には進化アイコンを表示できる
- [ ] Pull-to-refreshでデータ再取得できる

---

### テスト観点

#### 手動テスト
- 履歴画面で配送履歴が一覧表示されることを確認
- 期間選択タブで「今週」「今月」「全期間」を切り替え、表示が更新されることを確認
- 各配送の日時・距離・所要時間・獲得経験値が正しく表示されることを確認
- 進化した配送に進化アイコンが表示されることを確認
- Pull-to-refreshでデータが再取得されることを確認
- 配送履歴がない場合、「まだ配送履歴がありません」メッセージが表示されることを確認

#### 検証方法
1. 履歴タブをタップ
2. 配送履歴が一覧表示されることを確認
3. 期間選択タブを切り替え、表示が更新されることを確認
4. リストを下に引っ張り、Pull-to-refreshが動作することを確認
5. 進化した配送に進化アイコンが表示されることを確認

---

### 参考資料

- `docs/05_sitemap_delimon.md` - サイトマップ（履歴画面）
- `docs/04_api_delimon.md` - API設計（配送履歴取得）

---

### 要確認事項

- 履歴の表示順（新しい順、古い順）
- 履歴の表示件数制限（全件表示、ページネーション）
- 「今週」の定義（月曜日〜日曜日、日曜日〜土曜日）
